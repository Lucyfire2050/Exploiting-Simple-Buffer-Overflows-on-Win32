Stack

Function Prologue
push  ebp         ; Save the stack-frame base pointer (of the calling function).
mov   ebp, esp    ; Set the stack-frame base pointer to be the current location on the stack.
sub   esp, N      ; Grow the stack by N bytes to reserve space for local variables

Function Epilogue
mov   esp, ebp    ; Put the stack pointer back where it was when this function was called.
pop   ebp         ; Restore the calling function's stack frame.
ret               ; Return to the calling function.

Main -> F1

Winding
<Local Variables + Others>
Frame Pointer - EBP for Main
Return Address in Main
Argument to Function1

Unwinding
After LEAVE
Return Address
Argument to Function1

After RET
Argument to Function1

Main -> F1 -> F2 -> F3

Winding
<Local Variables + Others>
Frame Pointer - EBP for Function2
Return Address in Function2
Argument to Function3
<Local Variables + Others>
Frame Pointer - EBP for Function1
Return Address in Function1
Argument to Function2
<Local Variables + Others>
Frame Pointer - EBP for Main
Return Address in main()
Argument to Function1

Unwinding
Step 1
<Local Variables + Others>
Frame Pointer - EBP for Function2
Return Address in Function2
Argument to Function3
<Local Variables + Others>
Frame Pointer - EBP for Function1
Return Address in Function1
Argument to Function2
<Local Variables + Others>
Frame Pointer - EBP for Main
Return Address in main()
Argument to Function1

After LEAVE
Return Address in Function2
Argument to Function3
<Local Variables + Others>
Frame Pointer - EBP for Function1
Return Address in Function1
Argument to Function2
<Local Variables + Others>
Frame Pointer - EBP for Main
Return Address in main()
Argument to Function1

After RET
Argument to Function3
<Local Variables + Others>
Frame Pointer - EBP for Function1
Return Address in Function1
Argument to Function2
<Local Variables + Others>
Frame Pointer - EBP for Main
Return Address in main()
Argument to Function1

Step 2
After LEAVE
Return Address in Function1
Argument to Function2
<Local Variables + Others>
Frame Pointer - EBP for Main
Return Address in main()
Argument to Function1

After RET
Argument to Function2
<Local Variables + Others>
Frame Pointer - EBP for Main
Return Address in main()
Argument to Function1

Step 3
After LEAVE
Return Address in main()
Argument to Function1

After RET
Argument to Function1